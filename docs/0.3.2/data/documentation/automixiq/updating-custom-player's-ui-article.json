{"hierarchy":{"paths":[["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ"]]},"metadata":{"title":"Updating custom player’s UI","role":"article","modules":[{"name":"AutomixIQ"}],"roleHeading":"Article"},"schemaVersion":{"patch":0,"minor":3,"major":0},"seeAlsoSections":[{"identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType"],"generated":true,"title":"Updating custom player’s UI"}],"abstract":[{"text":"How to create a UI to reflect the AutomixIQ player","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"]},{"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"],"traits":[{"interfaceLanguage":"occ"}]}],"sections":[],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Receiving status updates","anchor":"Receiving-status-updates"},{"type":"paragraph","inlineContent":[{"type":"text","text":"AutomixIQ reports its state via "},{"isActive":true,"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate"},{"type":"text","text":". This delegate reports the status via its statusChanged method every time the status changed, and in the function it specifies the current status and the variables that were altered since the last time an update was issued. Use the status variables to update the content of your player UI."}]},{"type":"codeListing","syntax":"swift","code":["public class MyPlayer: NSObject, AutomixSDKStatusObserverDelegate {","    \/\/ ...","","    var latestStatus: AutomixSDKStatus? = nil","    public func statusChanged(variables: [NSNumber], status: AutomixSDKStatus) {","        self.latestStatus = status","        let mirror = Mirror(reflecting: status)","        for propertyInt in variables {","            guard let property: AutomixSDKStatusVariable = AutomixSDKStatusVariable.init(rawValue: propertyInt.intValue) else {","                continue","            }","            \/\/ Update my UI here ->","            switch property {","                case .playing:","                    break","                case .mixing:","                    break","                case .playingTrackIdentifier:","                    break","                case .playingTrackIndex:","                    break","                case .playingTrackIndexInternal:","                    break","                case .playingTrackCurrentTime:","                    break","                case .playingTrackCurrentTimeInternal:","                    break","                case .playingTrackTotalTime:","                    break","                case .playingTrackStreamingProgress:","                    break","                case .canSkipToPrevious:","                    break","                case .canSkipToNext:","                    break","                case .canBack:","                    break","                case .canPlayPause:","                    break","                case .canSeek:","                    break","                case .canReorderTracks:","                    break","                case .replayOn:","                    break","                case .readyToPlay:","                    break","                case .canMixNow:","                    break","                case .playlist:","                    break","                case .muted:","                    break","                case .masterTempoNormalized:","                    break","                case .playSpeed:","                    break","                case .normalisedVolume:","                    break","                case .preferredTransitionDurationSeconds:","                    break","                case .requestedLoopTrackIdentifier:","                    break","                case .requestedPauseTrackIdentifier:","                    break","                case .vinylStartStop:","                    break","                case .nextTransitionDuration:","                    break","                case .transitionStartTimeSeconds:","                    break","                case .failedTrackLoadIdentifiers:","                    break","                case .canOnOff:","                    break","                case .playingTrackOriginalSessionId:","                    break","            }","        }","    }","","","    \/\/ ...","}"]},{"text":"Receiving playback events","type":"heading","anchor":"Receiving-playback-events","level":2},{"type":"paragraph","inlineContent":[{"text":"When a playback event happens, Pacemaker Automix calls the status observer delegate method:","type":"text"}]},{"code":["public class MyPlayer: NSObject, AutomixSDKStatusObserverDelegate {","    \/\/ ...","","    public func playbackEvent(type: AutomixSDKPlaybackEventType, identifier: String?, originalSessionId: String?, status: AutomixSDKStatus?) {","        switch (type) {","            case .trackPlayStart:","                break;","            case .trackPlayPlayed5Secs:","                break;","            case .trackPlayHeartbeat30Secs:","                break;","            case .trackPlayStartMixingIntoNext:","                break;","            case .trackPlaySkipped:","                break;","            case .trackPlayFinished:","                break;","            case .mixPlaybackEnded:","                break;","        }","    }","    \/\/ ...","}"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"The type of playback event is modelled by the enum "},{"isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType","type":"reference"}],"type":"paragraph"},{"type":"heading","level":2,"anchor":"The-AutomixIQ-status","text":"The AutomixIQ status"},{"inlineContent":[{"text":"The status of AutomixIQ is modelled by ","type":"text"},{"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus","isActive":true},{"type":"text","text":":"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus","type":"reference","isActive":true}]}]}],"kind":"article","identifier":{"url":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Updating-custom-player's-UI-article","interfaceLanguage":"swift"},"references":{"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKStatus":{"kind":"symbol","url":"\/documentation\/automixiq\/automixsdkstatus","abstract":[{"type":"text","text":"AutomixSDKStatus models the State of the AutomixSDK during playback."}],"role":"symbol","navigatorTitle":[{"text":"AutomixSDKStatus","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AutomixSDKStatus","kind":"identifier"}],"title":"AutomixSDKStatus","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus","type":"topic"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ":{"kind":"symbol","url":"\/documentation\/automixiq","role":"collection","title":"AutomixIQ","abstract":[{"type":"text","text":"Provide seamless transitions between tracks and beat-matched seek experience within your music player application in iOS, iPad."}],"type":"topic","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKStatusObserverDelegate":{"navigatorTitle":[{"text":"AutomixSDKStatusObserverDelegate","kind":"identifier"}],"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","url":"\/documentation\/automixiq\/automixsdkstatusobserverdelegate","role":"symbol","kind":"symbol","type":"topic","title":"AutomixSDKStatusObserverDelegate","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AutomixSDKStatusObserverDelegate","kind":"identifier"}],"abstract":[{"type":"text","text":"AutomixSDKStatusObserverDelegate protocol defines the methods to be implemented by a class tasked with observing the status of Automix SDK to reflect it on a UI."}]},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKPlaybackEventType":{"role":"symbol","type":"topic","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AutomixSDKPlaybackEventType","kind":"identifier"}],"navigatorTitle":[{"text":"AutomixSDKPlaybackEventType","kind":"identifier"}],"title":"AutomixSDKPlaybackEventType","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType","url":"\/documentation\/automixiq\/automixsdkplaybackeventtype","abstract":[{"type":"text","text":"AutomixSDK play event type"}]}},"variantOverrides":[{"patch":[{"op":"replace","value":"occ","path":"\/identifier\/interfaceLanguage"},{"path":"\/topicSections","value":null,"op":"add"},{"value":[{"identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType"],"generated":true,"title":"Updating custom player’s UI"}],"op":"replace","path":"\/seeAlsoSections"},{"path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatus\/title","op":"replace","value":"AutomixSDKStatus"},{"value":[{"text":"AutomixSDKStatus","kind":"identifier"}],"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatus\/fragments"},{"value":"AutomixSDKStatusObserverDelegate","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatusObserverDelegate\/title","op":"replace"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatusObserverDelegate\/fragments","value":[{"kind":"identifier","text":"AutomixSDKStatusObserverDelegate"}]},{"op":"replace","value":"AutomixSDKPlaybackEventType","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKPlaybackEventType\/title"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKPlaybackEventType\/fragments","value":[{"text":"AutomixSDKPlaybackEventType","kind":"identifier"}]}],"traits":[{"interfaceLanguage":"occ"}]}]}