{"sections":[],"identifier":{"url":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Updating-custom-player's-UI-article","interfaceLanguage":"swift"},"schemaVersion":{"patch":0,"major":0,"minor":3},"abstract":[{"text":"How to create a UI to reflect the AutomixIQ player","type":"text"}],"metadata":{"modules":[{"name":"AutomixIQ"}],"role":"article","roleHeading":"Article","title":"Updating your player UI"},"hierarchy":{"paths":[["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ"]]},"variants":[{"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"],"traits":[{"interfaceLanguage":"swift"}]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/automixiq\/updating-custom-player's-ui-article"]}],"seeAlsoSections":[{"identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType"],"title":"Updating custom playerâ€™s UI","generated":true}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"anchor":"Receiving-status-updates","type":"heading","text":"Receiving status updates"},{"inlineContent":[{"type":"text","text":"AutomixIQ reports its state via "},{"type":"reference","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","isActive":true},{"type":"text","text":". This delegate reports the status via its statusChanged method every time the status changes. The function specifies the current status and the variables that were altered since the last time an update was issued. Use the status variables to update the content of your player UI."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["public class MyPlayer: NSObject, AutomixSDKStatusObserverDelegate {","    \/\/ ...","","    var latestStatus: AutomixSDKStatus? = nil","    public func statusChanged(variables: [NSNumber], status: AutomixSDKStatus) {","        self.latestStatus = status","        let mirror = Mirror(reflecting: status)","        for propertyInt in variables {","            guard let property: AutomixSDKStatusVariable = AutomixSDKStatusVariable.init(rawValue: propertyInt.intValue) else {","                continue","            }","            \/\/ Update my UI here ->","            switch property {","                case .playing:","                    break","                case .mixing:","                    break","                case .playingTrackIdentifier:","                    break","                case .playingTrackIndex:","                    break","                case .playingTrackIndexInternal:","                    break","                case .playingTrackCurrentTime:","                    break","                case .playingTrackCurrentTimeInternal:","                    break","                case .playingTrackTotalTime:","                    break","                case .playingTrackStreamingProgress:","                    break","                case .canSkipToPrevious:","                    break","                case .canSkipToNext:","                    break","                case .canBack:","                    break","                case .canPlayPause:","                    break","                case .canSeek:","                    break","                case .canReorderTracks:","                    break","                case .replayOn:","                    break","                case .readyToPlay:","                    break","                case .canMixNow:","                    break","                case .playlist:","                    break","                case .muted:","                    break","                case .playSpeed:","                    break","                case .normalisedVolume:","                    break","                case .preferredTransitionDurationSeconds:","                    break","                case .requestedLoopTrackIdentifier:","                    break","                case .requestedPauseTrackIdentifier:","                    break","                case .vinylStartStop:","                    break","                case .nextTransitionDuration:","                    break","                case .transitionStartTimeSeconds:","                    break","                case .failedTrackLoadIdentifiers:","                    break","                case .canOnOff:","                    break","                case .playingTrackOriginalSessionId:","                    break","                case .explicitLyricsFiltering:","                    break","                case .mixId:","                    break","            }","        }","    }","","","    \/\/ ...","}"]},{"anchor":"Receiving-playback-events","type":"heading","level":2,"text":"Receiving playback events"},{"inlineContent":[{"type":"text","text":"When a playback event happens, AutomixIQ calls the status observer delegate method:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public class MyPlayer: NSObject, AutomixSDKStatusObserverDelegate {","    \/\/ ...","","    public func playbackEvent(type: AutomixSDKPlaybackEventType, identifier: String?, originalSessionId: String?, status: AutomixSDKStatus?) {","        switch (type) {","            case .trackPlayStart:","                break;","            case .trackPlayPlayed5Secs:","                break;","            case .trackPlayHeartbeat30Secs:","                break;","            case .trackPlayStartMixingIntoNext:","                break;","            case .trackPlaySkipped:","                break;","            case .trackPlayFinished:","                break;","            case .mixPlaybackEnded:","                break;","        }","    }","    \/\/ ...","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The type of playback event is modelled by the enum "},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType"}]},{"text":"Accessing waveform data","type":"heading","anchor":"Accessing-waveform-data","level":2},{"type":"paragraph","inlineContent":[{"text":"When waveform data for a track is available, AutomixIQ calls the observer delegate method:","type":"text"}]},{"type":"codeListing","code":["public class MyPlayer: NSObject, AutomixSDKStatusObserverDelegate {","    \/\/ ...","","    public func waveformDataAvailable(identifier: String) {","        let waveformData = AutomixSDK.waveformDataForTrack(identifier: identifier, applyTransitions: false)","        guard let xValues = waveformData[0]","              let yValues = waveformData[1] else {","            return","        }","        \/\/\/ Render things on screen, etc.","    }","    \/\/ ...","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Please refer to "},{"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Accessing-waveform-data-article","isActive":true,"type":"reference"}]},{"level":2,"text":"The AutomixIQ status","anchor":"The-AutomixIQ-status","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The status of AutomixIQ is modelled by ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus"},{"type":"text","text":":"}]},{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus"}],"type":"paragraph"}]}],"kind":"article","references":{"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKStatus":{"type":"topic","url":"\/documentation\/automixiq\/automixsdkstatus","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatus","navigatorTitle":[{"kind":"identifier","text":"AutomixSDKStatus"}],"title":"AutomixSDKStatus","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"AutomixSDKStatus"}],"abstract":[{"text":"AutomixSDKStatus models the State of the AutomixSDK during playback.","type":"text"}],"kind":"symbol"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/Accessing-waveform-data-article":{"title":"Accessing waveform data","kind":"article","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/Accessing-waveform-data-article","type":"topic","abstract":[],"url":"\/documentation\/automixiq\/accessing-waveform-data-article","role":"article"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKStatusObserverDelegate":{"type":"topic","url":"\/documentation\/automixiq\/automixsdkstatusobserverdelegate","title":"AutomixSDKStatusObserverDelegate","navigatorTitle":[{"kind":"identifier","text":"AutomixSDKStatusObserverDelegate"}],"role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"text":"AutomixSDKStatusObserverDelegate","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"AutomixSDKStatusObserverDelegate protocol defines the methods to be implemented by a class tasked with observing the status of the AutomixIQ SDK to reflect it on a UI.","type":"text"}],"identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate"},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ/AutomixSDKPlaybackEventType":{"type":"topic","abstract":[{"text":"AutomixSDK play event type","type":"text"}],"url":"\/documentation\/automixiq\/automixsdkplaybackeventtype","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType","kind":"symbol","title":"AutomixSDKPlaybackEventType","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AutomixSDKPlaybackEventType"}],"role":"symbol","navigatorTitle":[{"text":"AutomixSDKPlaybackEventType","kind":"identifier"}]},"doc://org.cocoapods.AutomixIQ/documentation/AutomixIQ":{"role":"collection","abstract":[{"type":"text","text":"Enable smooth transitions between tracks for a seamlessly beat-matched experience within your iOS music application."}],"kind":"symbol","type":"topic","url":"\/documentation\/automixiq","title":"AutomixIQ","identifier":"doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ"}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"path":"\/identifier\/interfaceLanguage","op":"replace","value":"occ"},{"op":"add","value":null,"path":"\/topicSections"},{"value":[{"identifiers":["doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKStatusObserverDelegate","doc:\/\/org.cocoapods.AutomixIQ\/documentation\/AutomixIQ\/AutomixSDKPlaybackEventType"],"title":"Updating custom playerâ€™s UI","generated":true}],"path":"\/seeAlsoSections","op":"replace"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatus\/title","value":"AutomixSDKStatus"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatus\/fragments","value":[{"text":"AutomixSDKStatus","kind":"identifier"}]},{"value":"AutomixSDKStatusObserverDelegate","op":"replace","path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatusObserverDelegate\/title"},{"value":[{"kind":"identifier","text":"AutomixSDKStatusObserverDelegate"}],"path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKStatusObserverDelegate\/fragments","op":"replace"},{"path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKPlaybackEventType\/title","op":"replace","value":"AutomixSDKPlaybackEventType"},{"path":"\/references\/doc:~1~1org.cocoapods.AutomixIQ~1documentation~1AutomixIQ~1AutomixSDKPlaybackEventType\/fragments","op":"replace","value":[{"kind":"identifier","text":"AutomixSDKPlaybackEventType"}]}]}]}